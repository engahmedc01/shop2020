ALTER TABLE CUSTOMER
 ADD (CHANGE  DATE     )
/

ALTER TABLE CUSTOMER
 ADD (TIMESTAMP  TIMESTAMP(6) WITH LOCAL TIME ZONE)
/

ALTER TABLE CUSTOMER
 ADD (CHANGER  NUMBER(10))
/

ALTER TABLE CONTRACTOR
RENAME COLUMN CONTRACTOR_ID TO ID
/
    
ALTER TABLE CONTRACTOR
RENAME COLUMN CONTRACTOR_NAME TO NAME
/

ALTER TABLE CONTRACTOR
RENAME COLUMN CONTRACTOR_ADDRESS TO ADDRESS
/

ALTER TABLE CONTRACTOR
RENAME COLUMN CONTRACTOR_PHONE TO PHONE
/

ALTER TABLE CONTRACTOR
RENAME COLUMN CONTRACTOR_TYPE TO TYPE
/

ALTER TABLE CONTRACTOR
 ADD (CHANGE  DATE)
/

ALTER TABLE CONTRACTOR
 ADD (TIMESTAMP  TIMESTAMP(6) WITH LOCAL TIME ZONE)
/

ALTER TABLE CONTRACTOR
 ADD (CHANGER  NUMBER(10))
/

ALTER TABLE CONTRACTOR_ACCOUNT
RENAME COLUMN ACCOUNT_ID TO ID
/

ALTER TABLE CONTRACTOR_ACCOUNT
 ADD (CHANGE  DATE)
/

ALTER TABLE CONTRACTOR_ACCOUNT
 ADD (TIMESTAMP  TIMESTAMP(6) WITH LOCAL TIME ZONE)
/

ALTER TABLE CONTRACTOR_ACCOUNT
 ADD (CHANGER  NUMBER(10))
/


ALTER TABLE CONTRACTOR_ACCOUNT_DETAIL
RENAME COLUMN ACCOUNT_DETAIL_ID TO ID
/

ALTER TABLE CONTRACTOR_ACCOUNT_DETAIL
 ADD (CHANGE  DATE)
/

ALTER TABLE CONTRACTOR_ACCOUNT_DETAIL
 ADD (TIMESTAMP  TIMESTAMP(6) WITH LOCAL TIME ZONE)
/

ALTER TABLE CONTRACTOR_ACCOUNT_DETAIL
 ADD (CHANGER  NUMBER(10))
/
ALTER TABLE CONTRACTOR_ACCOUNT_DETAIL
RENAME COLUMN ACCOUNT_DETAIL_DATE TO DETAIL_DATE
/

ALTER TABLE CUSTOMER_ORDER
RENAME COLUMN ORDER_ID TO ID
/

ALTER TABLE CUSTOMER_ORDER
 ADD (CHANGE  DATE)
/

ALTER TABLE CUSTOMER_ORDER
 ADD (TIMESTAMP  TIMESTAMP(6) WITH LOCAL TIME ZONE)
/

ALTER TABLE CUSTOMER_ORDER
 ADD (CHANGER  NUMBER(10))
/



ALTER TABLE INC_LOAN
RENAME COLUMN INC_LOAN_ID TO ID
/

ALTER TABLE INC_LOAN
RENAME COLUMN INC_LOAN_DATE TO LOAN_DATE
/

ALTER TABLE INC_LOAN
 ADD (CHANGE  DATE)
/

ALTER TABLE INC_LOAN
 ADD (TIMESTAMP  TIMESTAMP(6) WITH LOCAL TIME ZONE)
/

ALTER TABLE INC_LOAN
 ADD (CHANGER  NUMBER(10))
/




ALTER TABLE INCOME
RENAME COLUMN INCOME_ID TO ID
/

ALTER TABLE INCOME
 ADD (CHANGE  DATE)
/

ALTER TABLE INCOME
 ADD (TIMESTAMP  TIMESTAMP(6) WITH LOCAL TIME ZONE)
/

ALTER TABLE INCOME
 ADD (CHANGER  NUMBER(10))
/

ALTER TABLE FRIDAGE
RENAME COLUMN FRIDAGE_ID TO ID
/

ALTER TABLE FRIDAGE
RENAME COLUMN FRIDAGE_NAME TO NAME

/

ALTER TABLE INCOME_DETAIL
RENAME COLUMN INCOME_DETAIL_ID TO ID
/

ALTER TABLE INCOME_DETAIL
RENAME COLUMN INCOME_DETAIL_TYPE TO TYPE
/

ALTER TABLE INCOME_DETAIL
 ADD (CHANGE  DATE)
/
ALTER TABLE INCOME_DETAIL
 ADD (TIMESTAMP  TIMESTAMP(6) WITH LOCAL TIME ZONE)
/

ALTER TABLE INCOME_DETAIL
 ADD (CHANGER  NUMBER(10))
/



ALTER TABLE INSTALMENT
RENAME COLUMN INSTALMENT_ID TO ID
/

ALTER TABLE INSTALMENT
 ADD (CHANGE  DATE)
/

ALTER TABLE INSTALMENT
 ADD (TIMESTAMP  TIMESTAMP(6) WITH LOCAL TIME ZONE)
/

ALTER TABLE INSTALMENT
 ADD (CHANGER  NUMBER(10))
/


ALTER TABLE LOAN_ACCOUNT
RENAME COLUMN LOAN_ACCOUNT_ID TO ID
/

ALTER TABLE LOAN_ACCOUNT
RENAME COLUMN LOAN_TYPE TO TYPE
/

ALTER TABLE LOAN_ACCOUNT
 ADD (CHANGE  DATE)
/

ALTER TABLE LOAN_ACCOUNT
 ADD (TIMESTAMP  TIMESTAMP(6) WITH LOCAL TIME ZONE)
/

ALTER TABLE LOAN_ACCOUNT
 ADD (CHANGER  NUMBER(10))
/


ALTER TABLE LOAN_PAYING
RENAME COLUMN LOAN_PAYING_ID TO ID
/

ALTER TABLE LOAN_PAYING
 ADD (CHANGE  DATE)
/

ALTER TABLE LOAN_PAYING
 ADD (TIMESTAMP  TIMESTAMP(4) WITH LOCAL TIME ZONE)
/
ALTER TABLE LOAN_PAYING
 ADD (CHANGER  NUMBER(10))
/


ALTER TABLE LOANERS
RENAME COLUMN LOANER_ID TO ID
/

ALTER TABLE LOANERS
RENAME COLUMN LOANER_NAME TO NAME
/

ALTER TABLE LOANERS
 ADD (CHANGE  DATE)
/

ALTER TABLE LOANERS
 ADD (TIMESTAMP  TIMESTAMP(6) WITH LOCAL TIME ZONE)
/

ALTER TABLE LOANERS
 ADD (CHANGER  NUMBER(10))
/

ALTER TABLE MY_SAFE
RENAME COLUMN SAFE_ID TO ID
/

ALTER TABLE MY_SAFE
 ADD (CHANGE  DATE)
/

ALTER TABLE MY_SAFE
 ADD (TIMESTAMP  TIMESTAMP(6) WITH LOCAL TIME ZONE)
/

ALTER TABLE MY_SAFE
 ADD (CHANGER  NUMBER(10))
/

ALTER TABLE OUTCOME
RENAME COLUMN OUTCOME_ID TO ID
/

ALTER TABLE OUTCOME
 ADD (CHANGE  DATE)
/

ALTER TABLE OUTCOME
 ADD (TIMESTAMP  TIMESTAMP(6) WITH LOCAL TIME ZONE)
/

ALTER TABLE OUTCOME
 ADD (CHANGER  NUMBER(10))
/

ALTER TABLE OUTCOME_DETAIL
RENAME COLUMN OUTCOME_DETAIL_ID TO ID
/

ALTER TABLE OUTCOME_DETAIL
RENAME COLUMN OUTCOME_TYPE TO TYPE
/

ALTER TABLE OUTCOME_DETAIL
 ADD (CHANGE  DATE)
/

ALTER TABLE OUTCOME_DETAIL
 ADD (TIMESTAMP  TIMESTAMP(6) WITH LOCAL TIME ZONE)
/

ALTER TABLE OUTCOME_DETAIL
 ADD (CHANGER  NUMBER(10))
/


ALTER TABLE SEASON
RENAME COLUMN SEASON_ID TO ID
/

ALTER TABLE SEASON
 ADD (CHANGE  DATE)
/

ALTER TABLE SEASON
 ADD (TIMESTAMP  TIMESTAMP(6) WITH LOCAL TIME ZONE)
/

ALTER TABLE SEASON
 ADD (CHANGER  NUMBER(10))
/



ALTER TABLE SELLER
RENAME COLUMN SELLER_ID TO ID
/

ALTER TABLE SELLER
RENAME COLUMN SELLER_NAME TO NAME
/

ALTER TABLE SELLER
RENAME COLUMN SELLER_ADDRESS TO ADDRESS
/

ALTER TABLE SELLER
RENAME COLUMN SELLER_PHONE TO PHONE
/

ALTER TABLE SELLER
RENAME COLUMN SELLER_TYPE TO TYPE
/

ALTER TABLE SELLER
 ADD (CHANGE  DATE)
/

ALTER TABLE SELLER
 ADD (TIMESTAMP  TIMESTAMP(6) WITH LOCAL TIME ZONE)
/

ALTER TABLE SELLER
 ADD (CHANGER  NUMBER(10))
/


ALTER TABLE SELLER_LOAN_BAG
RENAME COLUMN LOAN_BAG_ID TO ID
/

ALTER TABLE SELLER_LOAN_BAG
RENAME COLUMN PRIOR_LOAN_SETTELED TO SETTELED
/

ALTER TABLE SELLER_LOAN_BAG
 ADD (CHANGE  DATE)
/

ALTER TABLE SELLER_LOAN_BAG
 ADD (TIMESTAMP  TIMESTAMP(6) WITH LOCAL TIME ZONE)
/

ALTER TABLE SELLER_LOAN_BAG
 ADD (CHANGER  NUMBER(10))
/

ALTER TABLE SELLER_ORDER
RENAME COLUMN ORDER_ID TO ID
/

ALTER TABLE SELLER_ORDER
 ADD (CHANGE  DATE)
/

ALTER TABLE SELLER_ORDER
 ADD (TIMESTAMP  TIMESTAMP(6) WITH LOCAL TIME ZONE)
/

ALTER TABLE SELLER_ORDER
 ADD (CHANGER  NUMBER(10))
/


ALTER TABLE SELLER_WEIGHT
RENAME COLUMN WEIGHT_ID TO ID
/

ALTER TABLE SELLER_WEIGHT
 ADD (CHANGE  DATE)
/

ALTER TABLE SELLER_WEIGHT
 ADD (TIMESTAMP  TIMESTAMP(6) WITH LOCAL TIME ZONE)
/

ALTER TABLE SELLER_WEIGHT
 ADD (CHANGER  NUMBER(10))
/

ALTER TABLE PRODUCT
RENAME COLUMN PRODUCT_ID TO ID
/
ALTER TABLE PRODUCT
RENAME COLUMN PRODUCT_NAME TO NAME
/


CREATE TABLE USERS
(
  ID         NUMBER(15),
  USERNAME  VARCHAR2(250)                      NOT NULL,
  PASSWORD   VARCHAR2(250)                      NOT NULL
)
RESULT_CACHE (MODE DEFAULT)
STORAGE    (
            BUFFER_POOL      DEFAULT
            FLASH_CACHE      DEFAULT
            CELL_FLASH_CACHE DEFAULT
           )
LOGGING 
NOCOMPRESS 
NOCACHE
NOPARALLEL
NOMONITORING
/


ALTER TABLE USERS
 ADD (CHANGED  INTEGER)
/

ALTER TABLE USERS
 ADD (CHANGE  DATE)
/

ALTER TABLE USERS
 ADD (CHANGER  NUMBER(10))
/

ALTER TABLE USERS
 ADD (TIMESTAMP  TIMESTAMP(6) WITH LOCAL TIME ZONE)
/



ALTER TABLE USERS ADD (
  CONSTRAINT USERS_PK
  PRIMARY KEY
  (ID)
  ENABLE VALIDATE)
/
ALTER TABLE CONTRACTOR
RENAME COLUMN CHANGE TO CHANGE_DATE
/

ALTER TABLE CONTRACTOR
RENAME COLUMN CHANGER TO CHANGER_ID
/

ALTER TABLE CONTRACTOR_ACCOUNT
RENAME COLUMN CHANGE TO CHANGE_DATE
/

ALTER TABLE CONTRACTOR_ACCOUNT
RENAME COLUMN CHANGER TO CHANGER_ID
/

ALTER TABLE CONTRACTOR_ACCOUNT_DETAIL
RENAME COLUMN CHANGE TO CHANGE_DATE
/

ALTER TABLE CONTRACTOR_ACCOUNT_DETAIL
RENAME COLUMN CHANGER TO CHANGER_ID
/

ALTER TABLE CUSTOMER
RENAME COLUMN CHANGE TO CHANGE_DATE
/

ALTER TABLE CUSTOMER
RENAME COLUMN CHANGER TO CHANGER_ID
/

ALTER TABLE CUSTOMER_ORDER
RENAME COLUMN CHANGE TO CHANGE_DATE
/

ALTER TABLE CUSTOMER_ORDER
RENAME COLUMN CHANGER TO CHANGER_ID
/



ALTER TABLE INC_LOAN
RENAME COLUMN CHANGE TO CHANGE_DATE
/

ALTER TABLE INC_LOAN
RENAME COLUMN CHANGER TO CHANGER_ID
/
ALTER TABLE INCOME
RENAME COLUMN CHANGE TO CHANGE_DATE
/

ALTER TABLE INCOME
RENAME COLUMN CHANGER TO CHANGER_ID
/

ALTER TABLE INCOME_DETAIL
RENAME COLUMN CHANGE TO CHANGE_DATE
/

ALTER TABLE INCOME_DETAIL
RENAME COLUMN CHANGER TO CHANGER_ID
/
ALTER TABLE INSTALMENT
RENAME COLUMN CHANGE TO CHANGE_DATE
/

ALTER TABLE INSTALMENT
RENAME COLUMN CHANGER TO CHANGER_ID
/
ALTER TABLE LOAN_ACCOUNT
RENAME COLUMN CHANGE TO CHANGE_DATE
/

ALTER TABLE LOAN_ACCOUNT
RENAME COLUMN CHANGER TO CHANGER_ID
/
ALTER TABLE LOAN_PAYING
RENAME COLUMN CHANGE TO CHANGE_DATE
/

ALTER TABLE LOAN_PAYING
RENAME COLUMN CHANGER TO CHANGER_ID
/
ALTER TABLE LOANERS
RENAME COLUMN CHANGE TO CHANGE_DATE
/

ALTER TABLE LOANERS
RENAME COLUMN CHANGER TO CHANGER_ID
/

ALTER TABLE MY_SAFE
RENAME COLUMN CHANGE TO CHANGE_DATE
/

ALTER TABLE MY_SAFE
RENAME COLUMN CHANGER TO CHANGER_ID
/
ALTER TABLE OUTCOME
RENAME COLUMN CHANGE TO CHANGE_DATE
/

ALTER TABLE OUTCOME
RENAME COLUMN CHANGER TO CHANGER_ID
/
ALTER TABLE OUTCOME_DETAIL
RENAME COLUMN CHANGE TO CHANGE_DATE
/

ALTER TABLE OUTCOME_DETAIL
RENAME COLUMN CHANGER TO CHANGER_ID
/
ALTER TABLE SEASON
RENAME COLUMN CHANGE TO CHANGE_DATE
/

ALTER TABLE SEASON
RENAME COLUMN CHANGER TO CHANGER_ID
/

ALTER TABLE SELLER
RENAME COLUMN CHANGE TO CHANGE_DATE
/

ALTER TABLE SELLER
RENAME COLUMN CHANGER TO CHANGER_ID
/

ALTER TABLE SELLER_LOAN_BAG
RENAME COLUMN CHANGE TO CHANGE_DATE
/

ALTER TABLE SELLER_LOAN_BAG
RENAME COLUMN CHANGER TO CHANGER_ID
/
ALTER TABLE SELLER_ORDER
RENAME COLUMN CHANGER TO CHANGER_ID
/
ALTER TABLE SELLER_WEIGHT
RENAME COLUMN CHANGE TO CHANGE_DATE
/

ALTER TABLE SELLER_WEIGHT
RENAME COLUMN CHANGER TO CHANGER_ID
/

ALTER TABLE USERS
RENAME COLUMN CHANGE TO CHANGE_DATE
/

ALTER TABLE USERS
RENAME COLUMN CHANGER TO CHANGER_ID
/

ALTER TABLE STORE
RENAME COLUMN STORE_ID TO ID;
ALTER TABLE SELLER_ORDER
RENAME COLUMN CHANGE TO CHANGE_DATE
/



CREATE TABLE CUSTOMER_TYPES
(
  ID    NUMBER(10),
  NAME  VARCHAR2(100)
)
RESULT_CACHE (MODE DEFAULT)
STORAGE    (
            BUFFER_POOL      DEFAULT
            FLASH_CACHE      DEFAULT
            CELL_FLASH_CACHE DEFAULT
           );
           
           
           
           
        
Insert into CUSTOMER_TYPES
   (ID, NAME)
 Values
   (4, 'محمد علي');
Insert into CUSTOMER_TYPES
   (ID, NAME)
 Values
   (3, 'كريم');
Insert into CUSTOMER_TYPES
   (ID, NAME)
 Values
   (2, 'مشتروات');
Insert into CUSTOMER_TYPES
   (ID, NAME)
 Values
   (1, 'عميل');
COMMIT;
ALTER TABLE CUSTOMER
 ADD (TYPE_ID  NUMBER(10))
/

ALTER TABLE OLD_SHOP.CUSTOMER
RENAME COLUMN CUSTOMER_ID TO ID
/

ALTER TABLE OLD_SHOP.CUSTOMER
RENAME COLUMN CUSTOMER_NAME TO NAME
/

ALTER TABLE OLD_SHOP.CUSTOMER
RENAME COLUMN CUSTOMER_ADDRESS TO ADDRESS
/

ALTER TABLE OLD_SHOP.CUSTOMER
RENAME COLUMN CUSTOMER_PHONE TO PHONE
/


UPDATE CUSTOMER SET TYPE_ID =2 where NAME  like '%مشتروات%';

UPDATE CUSTOMER SET TYPE_ID =3 where NAME    like '%كريم_%';




UPDATE CUSTOMER SET TYPE_ID =1 where  TYPE_ID IS NULL;
COMMIT;
ALTER TABLE CUSTOMER_ORDER
 ADD (VECHILE_TYPE_ID  NUMBER(10))
/

CREATE TABLE VECHILE_TYPE
(
  ID    NUMBER(10)                              NOT NULL,
  NAME  VARCHAR2(100)
)
RESULT_CACHE (MODE DEFAULT)
STORAGE    (
            BUFFER_POOL      DEFAULT
            FLASH_CACHE      DEFAULT
            CELL_FLASH_CACHE DEFAULT
           )
LOGGING 
NOCOMPRESS 
NOCACHE
NOPARALLEL
NOMONITORING
/


Insert into VECHILE_TYPE
   (ID, NAME)
 Values
   (1, 'جامبو');
Insert into VECHILE_TYPE
   (ID, NAME)
 Values
   (2, 'دبابة');
Insert into VECHILE_TYPE
   (ID, NAME)
 Values
   (3, 'جامبو 1/2');
COMMIT;


ALTER TABLE VECHILE_TYPE ADD (
  CONSTRAINT VECHILE_TYPE_PK
  PRIMARY KEY
  (ID)
  ENABLE VALIDATE)
/

UPDATE CUSTOMER_order SET VECHILE_TYPE_ID =2 WHERE VECHILE_TYPE like 'دبابه';
UPDATE CUSTOMER_order SET VECHILE_TYPE_ID =1 WHERE VECHILE_TYPE like 'جامبو';
UPDATE CUSTOMER_order SET VECHILE_TYPE_ID =3 WHERE VECHILE_TYPE like 'جامبو 1/2';


COMMIT;
ALTER TABLE CUSTOMER_ORDER
 ADD FOREIGN KEY (VECHILE_TYPE_ID) 
  REFERENCES VECHILE_TYPE (ID)
  ENABLE VALIDATE
/

ALTER TABLE PURCHASED_CUSTOMRER_INSTS
RENAME COLUMN INST_ID TO ID
/

ALTER TABLE PURCHASED_CUSTOMRER_INSTS
 ADD (CHANGE_DATE  DATE)
/

ALTER TABLE PURCHASED_CUSTOMRER_INSTS
 ADD (CHANGER_ID  NUMBER(15))
/

ALTER TABLE PURCHASED_CUSTOMRER_INSTS
 ADD (TIMESTAMP  TIMESTAMP(6) WITH LOCAL TIME ZONE)
/

ALTER TABLE SELLER
 ADD (TYPE_ID  NUMBER(10))
/

UPDATE SELLER SET TYPE_ID=2 WHERE TYPE='PERMENANT';
UPDATE SELLER SET TYPE_ID=1 WHERE TYPE='CASH';
COMMIT;

CREATE TABLE SELLER_TYPE
(
  ID    NUMBER(10),
  NAME  VARCHAR2(100)                           NOT NULL
)
RESULT_CACHE (MODE DEFAULT)
STORAGE    (
            BUFFER_POOL      DEFAULT
            FLASH_CACHE      DEFAULT
            CELL_FLASH_CACHE DEFAULT
           )
LOGGING 
NOCOMPRESS 
NOCACHE
NOPARALLEL
NOMONITORING
/


ALTER TABLE SELLER_TYPE ADD (
  CONSTRAINT SELLER_TYPE_PK
  PRIMARY KEY
  (ID)
  ENABLE VALIDATE)
/
SET DEFINE OFF;
Insert into SELLER_TYPE
   (ID, NAME)
 Values
   (2, 'دائم');
Insert into SELLER_TYPE
   (ID, NAME)
 Values
   (1, 'نقدي');
COMMIT;


COMMIT;
ALTER TABLE SELLER
 ADD FOREIGN KEY (TYPE_ID) 
  REFERENCES SELLER_TYPE (ID)
  ENABLE VALIDATE
/



CREATE TABLE INCOME_TYPE
(
  ID    NUMBER(10),
  NAME  VARCHAR2(100)
)
RESULT_CACHE (MODE DEFAULT)
STORAGE    (
            BUFFER_POOL      DEFAULT
            FLASH_CACHE      DEFAULT
            CELL_FLASH_CACHE DEFAULT
           )
LOGGING 
NOCOMPRESS 
NOCACHE
NOPARALLEL
NOMONITORING
/

ALTER TABLE INCOME_TYPE
MODIFY(ID  NOT NULL)
/


ALTER TABLE INCOME_TYPE
 ADD CONSTRAINT INCOME_TYPE_PK
  PRIMARY KEY
  (ID)
  ENABLE VALIDATE
/
Insert into INCOME_TYPE
   (ID, NAME)
 Values
   (1, 'نقدي');
Insert into INCOME_TYPE
   (ID, NAME)
 Values
   (2, 'تسديد فواتير بياعين');
Insert into INCOME_TYPE
   (ID, NAME)
 Values
   (3, 'دين داخلي');
Insert into INCOME_TYPE
   (ID, NAME)
 Values
   (4, 'تسديد دين خارج');
COMMIT;
ALTER TABLE INCOME_DETAIL
 ADD (TYPE_ID  NUMBER(10) )
/

UPDATE  INCOME_DETAIL SET TYPE_ID =1  WHERE TYPE='CASH';
UPDATE  INCOME_DETAIL SET TYPE_ID = 2 WHERE TYPE='INTST_PAY';
UPDATE  INCOME_DETAIL SET TYPE_ID = 3 WHERE TYPE='IN_LOAN';
UPDATE  INCOME_DETAIL SET TYPE_ID = 4 WHERE TYPE='IN_PAY_LOAN';


ALTER TABLE INCOME_DETAIL
 ADD FOREIGN KEY (TYPE_ID) 
  REFERENCES INCOME_TYPE (ID)
  ENABLE VALIDATE
/



ALTER TABLE INCOME_DETAIL
 ADD (SELLER_ORDER_ID  NUMBER(15))
/



ALTER TABLE MY_SAFE
 ADD (BASE_AMOUNT  NUMBER(15)                       DEFAULT 0)
/


ALTER TABLE MY_SAFE
 ADD (SEASON_ID  NUMBER(15))
/
ALTER TABLE INSTALMENT
 ADD (SELLER_ORDER_ID  NUMBER(15))
/



CREATE TABLE outcome_types
(
  ID    NUMBER(10)                              NOT NULL,
  NAME  VARCHAR2(50)
)
RESULT_CACHE (MODE DEFAULT)
STORAGE    (
            BUFFER_POOL      DEFAULT
            FLASH_CACHE      DEFAULT
            CELL_FLASH_CACHE DEFAULT
           )
LOGGING 
NOCOMPRESS 
NOCACHE
NOPARALLEL
NOMONITORING
/


ALTER TABLE outcome_types ADD (
  CONSTRAINT outcome_types_PK
  PRIMARY KEY
  (ID)
  ENABLE VALIDATE)
/

INSERT INTO outcome_types (ID,NAME)

(select rownum ,t from (
select distinct TYPE t from OUTCOME_DETAIL 

)

);
COMMIT ;


ALTER TABLE OUTCOME_DETAIL
 ADD (TYPE_ID  NUMBER(10));
/


update outcome_detail  set type_id=2 where type='K_L';
commit ;
update outcome_detail  set type_id=3 where type='OUT_LOAN';
commit ;
update outcome_detail  set type_id=4 where type='labours';
commit ;
update outcome_detail  set type_id=5 where type='ORDER_PAY';
commit ;
update outcome_detail  set type_id=6 where type='allah';
commit ;

update outcome_detail  set type_id=7 where type='PURCHASES_WITHDRAWALS';
commit ;

update outcome_detail  set type_id=8 where type='maintaince';
commit ;
update outcome_detail  set type_id=9 where type='OUT_PAY_LOAN';
commit ;

update outcome_detail  set type_id=10 where type='K_V';
commit ;
update outcome_detail  set type_id=11 where type='ORDER_TIPS';
commit ;

update outcome_detail  set type_id=12 where type='TIPS';
commit ;
update outcome_detail  set type_id=13 where type='K_S';
commit ;
update outcome_detail  set type_id=14 where type='NOLOUN';
commit ;
update outcome_detail  set type_id=1 where type='varaity';
commit ;
update outcome_detail  set type_id=15 where type='forgivness';
commit ;



ALTER TABLE CUSTOMER_ORDER
MODIFY(VECHILE_TYPE  NULL)
/
 
ALTER TABLE OUTCOME_TYPES
 ADD (NAME_AR  VARCHAR2(100))
/


UPDATE OUTCOME_TYPES SET NAME_AR= 'نثريات' WHERE ID =1;
COMMIT ;
UPDATE OUTCOME_TYPES SET NAME_AR= 'عمالة كريم' WHERE ID =2;
COMMIT ;

UPDATE OUTCOME_TYPES SET NAME_AR= 'دين لصالح الحل' WHERE ID =3;
COMMIT ;

UPDATE OUTCOME_TYPES SET NAME_AR= 'العمال' WHERE ID =4;
COMMIT ;

UPDATE OUTCOME_TYPES SET NAME_AR= 'دفع فواتيرالعملاء' WHERE ID =5;
COMMIT ;

UPDATE OUTCOME_TYPES SET NAME_AR= 'زكاة وصدقات' WHERE ID =6;
COMMIT ;

UPDATE OUTCOME_TYPES SET NAME_AR= 'مشتروات' WHERE ID =7;
COMMIT ;

UPDATE OUTCOME_TYPES SET NAME_AR= 'صيانة تلاجات' WHERE ID =8;
COMMIT ;

UPDATE OUTCOME_TYPES SET NAME_AR= 'تسديد دين' WHERE ID =9;
COMMIT ;

UPDATE OUTCOME_TYPES SET NAME_AR= 'منوعات كريم' WHERE ID =10;
COMMIT ;

UPDATE OUTCOME_TYPES SET NAME_AR= 'وهبة فواتير' WHERE ID =11;
COMMIT ;
UPDATE OUTCOME_TYPES SET NAME_AR= 'وهبة' WHERE ID =12;
COMMIT ;
UPDATE OUTCOME_TYPES SET NAME_AR= 'موردين كيماوي' WHERE ID =13;
COMMIT ;
UPDATE OUTCOME_TYPES SET NAME_AR= 'نولون' WHERE ID =14;
COMMIT ;

UPDATE OUTCOME_TYPES SET NAME_AR= 'سماحات' WHERE ID =15;
COMMIT ;



    update outcome_detail set type_id=1 where type= 'varaity'; commit;
    update outcome_detail set type_id=2 where type= 'K_L'; commit;
    update outcome_detail set type_id=3 where type= 'OUT_LOAN'; commit;
    update outcome_detail set type_id=4 where type= 'abours'; commit;
    update outcome_detail set type_id=5 where type= 'ORDER_PAY'; commit;
    update outcome_detail set type_id=6 where type= 'allah'; commit;
    update outcome_detail set type_id=7 where type= 'PURCHASES_WITHDRAWALS'; commit;
    update outcome_detail set type_id=8 where type= 'maintaince'; commit;
    update outcome_detail set type_id=9 where type= 'OUT_PAY_LOAN'; commit;
    update outcome_detail set type_id=10 where type= 'K_V'; commit;
    update outcome_detail set type_id=11 where type= 'ORDER_TIPS'; commit;
    update outcome_detail set type_id=12 where type= 'TIPS'; commit;
    update outcome_detail set type_id=13 where type= 'K_S'; commit;
    update outcome_detail set type_id=14 where type= 'NOLOUN'; commit;
    update outcome_detail set type_id=15 where type= 'forgivness'; commit;

ALTER TABLE CONTRACTOR
 ADD (OWNER_ID  NUMBER(10))
/

ALTER TABLE CONTRACTOR
 ADD (TYPE_ID  NUMBER(10))
/

CREATE TABLE CONTRACTOR_OWNERS
(
  ID    NUMBER(10),
  NAME  VARCHAR2(100)
)
RESULT_CACHE (MODE DEFAULT)
STORAGE    (
            BUFFER_POOL      DEFAULT
            FLASH_CACHE      DEFAULT
            CELL_FLASH_CACHE DEFAULT
           )
LOGGING 
NOCOMPRESS 
NOCACHE
NOPARALLEL
NOMONITORING
/


ALTER TABLE CONTRACTOR_OWNERS ADD (
  CONSTRAINT CONTRACTOR_OWNERS_PK
  PRIMARY KEY
  (ID)
  ENABLE VALIDATE)
/
UPDATE CONTRACTOR SET OWNER_ID=1;
COMMIT ;



CREATE TABLE CONTRACTOR_TYPES
(
  ID    NUMBER(10),
  NAME  VARCHAR2(100)                           NOT NULL
)
RESULT_CACHE (MODE DEFAULT)
STORAGE    (
            BUFFER_POOL      DEFAULT
            FLASH_CACHE      DEFAULT
            CELL_FLASH_CACHE DEFAULT
           )
LOGGING 
NOCOMPRESS 
NOCACHE
NOPARALLEL
NOMONITORING
/


ALTER TABLE CONTRACTOR_TYPES ADD (
  CONSTRAINT CONTRACTOR_TYPES_PK
  PRIMARY KEY
  (ID)
  ENABLE VALIDATE)
/
SET DEFINE OFF;
Insert into CONTRACTOR_TYPES
   (ID, NAME)
 Values
   (3, 'K_V');
Insert into CONTRACTOR_TYPES
   (ID, NAME)
 Values
   (2, 'K_S');
Insert into CONTRACTOR_TYPES
   (ID, NAME)
 Values
   (1, 'K_L');
COMMIT;



Insert into CONTRACTOR_OWNERS
   (ID, NAME)
 Values
   (2, 'محمد');
Insert into CONTRACTOR_OWNERS
   (ID, NAME)
 Values
   (1, 'كريم');
COMMIT;

UPDATE CONTRACTOR SET OWNER_ID=1;
COMMIT;

UPDATE CONTRACTOR SET TYPE_ID=1 WHERE TYPE='K_L';
COMMIT;
UPDATE CONTRACTOR SET TYPE_ID=2 WHERE TYPE='K_S';
COMMIT;
UPDATE CONTRACTOR SET TYPE_ID=3 WHERE TYPE='K_V';
COMMIT;



ALTER TABLE CONTRACTOR
 ADD FOREIGN KEY (OWNER_ID) 
  REFERENCES CONTRACTOR_OWNERS (ID)
  ENABLE VALIDATE
/

ALTER TABLE CONTRACTOR
 ADD FOREIGN KEY (TYPE_ID) 
  REFERENCES CONTRACTOR_TYPES (ID)
  ENABLE VALIDATE
/


 


